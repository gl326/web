<!doctype html><html lang=en><head><meta charset=UTF-8><title>Wishes Ultd. | How AI works in Beastieball</title><meta name=description><meta content="Wishes Ultd. | How AI works in Beastieball" property=og:title><meta property=og:description><meta content=https://gl326.github.io/web/blog/how-ai-works-in-beastieball/ property=og:url><meta content=https://gl326.github.io/web//img/og_preview.png property=og:image><meta content=summary_large_image name=twitter:card><meta content=@greg-wishes name=twitter:site><meta content="Wishes Ultd. | How AI works in Beastieball" name=twitter:title><meta name=twitter:description><meta content=https://gl326.github.io/web//img/og_preview.png name=twitter:image:src><meta content="Game Development, Video Games, Beastieball, Chicory, Wandersong" name=keywords><meta content="Greg Lobanov" name=author><meta content="width=device-width" name=viewport><link href=/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link href=/site.webmanifest rel=manifest><link color=#5bbad5 href=/safari-pinned-tab.svg rel=mask-icon><meta content=#000000 name=msapplication-TileColor><meta content=#ffffff name=theme-color><link title="Wishes Ultd." href=/rss.xml rel=alternate type=application/rss+xml><link href=https://fonts.googleapis.com rel=preconnect><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css2?family=Underdog&display=swap" rel=stylesheet><link href="/latte.css?Z21PDVLpk5NMN9ieR2q8MRJkSm1H8rwE0A/diwe387M=" id=sheet-link rel=stylesheet><body><div class=header><div class=column><div class=title><div class=main><a href=/><img alt="Wishes Unlimited logo" src=/img/logo.png></a></div><div class=sub>★Indie games by Greg Lobanov & friends★</div></div><div class=menu><div class=links><a class=link href=/blog> <i class=ri-edit-2-line></i> <div class=text>Blog</div> </a><a class=link href=/games> <i class=ri-gamepad-line></i> <div class=text>Games</div> </a><a class=link href=/resources> <i class=ri-book-shelf-line></i> <div class=text>Dev</div> </a></div><div class=socials><a href=https://discord.com/invite/mSuPHrVh6A target=_blank><i class=ri-discord-fill></i></a><a href=https://bsky.app/profile/greg.style target=_blank><i class=ri-bluesky-fill></i></a><a href=https://www.instagram.com/beastieball/ target=_blank><i class=ri-instagram-fill></i></a><a href=mailto:banovg@gmail.com target=_blank><i class=ri-mail-fill></i></a></div></div></div></div><div class=page><div class="column content"><div class=post-top><h1>How AI works in Beastieball</h1><div class=post-meta><span class=item> <i class=ri-calendar-schedule-fill></i> Posted <span class=date>2024-04-02</span> </span><span class=item><a class=tag href=/tags/archived><i class=ri-price-tag-3-fill></i>archived</a><a class=tag href=/tags/beastieball><i class=ri-price-tag-3-fill></i>beastieball</a></span></div></div><hr><p>With this newsletter I generally try to stick to broad concepts, but this post will be a bit more technical and specific. It’s something I’ve been excited to write a bit about!<h2>Update and Render</h2><p>To explain the first and weirdest detail of how the AI is written, I need to briefly explain how games are generally programmed. Essentially, you break every step of the computing process into two main phases - updating the game state, and then rendering that state to the user.<figure><img src=1.png></figure><p>But Beastieball’s “battle” system works like this.<figure><img src=2.png></figure><p>The code which renders and displays all of the clickable buttons that the player uses to select their actions ALSO contains the logic for clicking on them and what that does (advancing the game state, queuing turn-based actions, etc), and it ALSO contains all of the logic that the AI uses to make decisions.<figure><img src=3.png></figure><p>Here’s an example of what the code for these clickable buttons might look like:<figure><img src=4.png></figure><p>Doing the logic for clicking on buttons at the same time as you render them isn’t too-too weird in the grand scheme. It’s nice that you can re-use the on-screen render bounds for box to also detect when the user’s selector is overlapping that box to click on it. But throwing the AI into there as well is not something I’ve even seen someone talk about before.<h2>The AI Decision Tree</h2><p>The way the AI basically works is: Each step, it will run the game UI render code as if it were going to render the UI to the player, but rendering is disabled so nothing new actually appears onscreen. Instead, at the end of the UI render attempt, the AI has a list of all the clickable areas that were rendered. Then it runs the UI render again, but this time it “clicks” on one of the clickable areas, advancing the game state as if a player had clicked on a button there.<p>It does this until it has nothing left to click on, then evaluates the “Board Score.” This means assigning a value to how favorable the current game state looks to them. Since each button click also advances the game state, each “run out of clicks” state represents a unique possible outcome for the AI’s turn after all their actions are used. The AI will treat the state as more favorable if, for example, they’re launching an attack that is likely to do more damage, or their team status is healthier.<figure><img src=5.png><figcaption>Typical path the AI will take on its first pass.</figcaption></figure><p>The AI then goes back to the start of their turn and starts over, repeating this process ad nauseam until it has clicked on everything it could ever click in every situation, and has assigned a score to all possibilities.<figure><img src=6.png></figure><p>From there, the AI goes back to the top one more time, picks out the route that scored the highest, and then clicks on those things in that order, this time actually committing to the choice and playing it out in a way that the player can see. Aside from having the AI hooked up the game’s render loop, all of this procedure is actually fairly standard. If you’re interested in learning more about how AI decision trees work, there are some <a href="https://www.youtube.com/watch?v=U4ogK0MIzqk">great entertaining YouTube videos out there on the subject.</a><h2>Why is it like this</h2><p>In the context of Beastieball, I think it’s worth noting how every aspect of this procedure makes it super easy to develop new features.<p>Firstly, the “Board Score” evaluation is a really flexible and powerful tool. AI for different encounters can be given interesting unique behaviour by adjusting how it values certain things. For example, in our <a href=https://store.steampowered.com/app/1864950/Beastieball/>Steam demo’s</a> “Boss fight” against Marlin, he wants to teach you about attacking empty lanes, and so intentionally leaves certain lanes open - we achieved this by assigning a negative value to lane defense in his AI.<p>But the coolest, most “magical” quality of this system is that the AI has full access to everything the player does, automatically, with no extra effort on the part of the programmer(s) or designer(s) (me). This was critical when I was in the early phases of prototyping this game, and was frequently adding, moving or deleting features from the system trying to figure out a good design for turn-based volleyball.<p>That quality continues to be valuable even as development has progressed. About a week before we first revealed our Steam demo, I made a very big change to the game systems, adding a new “Block” move that any Beastie could do at the net. Simply by adding the button to the player’s interface, the AI also had access to it, and even started using it in unexpectedly optimal ways that helped me quickly test and refine the idea before releasing it.<p>There are a lot of hidden benefits to testing and balancing the game that were unlocked by having the AI so closely tied to player behaviour, which I’d love to cover in greater detail another time. But suffice to say that the ease of adding new features and move effects and getting to see them played out instantly has been immensely valuable to this project!<p>See you in the next newsletter.<div class=prev-next><a class=prev href=https://gl326.github.io/web/blog/a-field-guide-to-beastie-metamorphosis/> <div><i class=ri-arrow-left-circle-line></i></div> <div><div class=upper>Prev Post</div><div class=lower>A Field Guide to Beastie Metamorphosis</div></div> </a><div class=mid></div><a class=next href=https://gl326.github.io/web/blog/servitt-the-sporty-serval-beastie/> <div><div class=upper>Next Post</div><div class=lower>Servitt, the sporty serval Beastie!</div></div> <div><i class=ri-arrow-right-circle-line></i></div> </a></div></div></div><div class=footer><div class=column><p>Copyright 2026 © Wishes Games ULC<p>★ <a href=https://impress.games/press-kit/wishes>Presskit</a> ★</p><br><p>Site shamelessly stolen from my buddy <a href=https://github.com/ChevyRay/chevyray.dev>Chevy Ray</a>; powered by <a href=https://www.getzola.org/ target=_blank>Zola</a><p>Icons by <a href=https://remixicon.com/ target=_blank><i class=ri-remixicon-fill></i> Remix Icon</a></p><br></div></div></body><script src="/js/date-formatter.js?OVEWw9Ur7qSdc/aivOxWJgMdy4Jchi4xbAG6B/Nce8Y="></script>